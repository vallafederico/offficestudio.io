---
import Section from "../Section.astro";

import { getPages } from "../content.js";
const items = await getPages();
---

<Section className="mb-[20vh]">
  <div class="c">
    <div class="flex justify-center mb-4">
      <div>
        <h2 data-a="word" data-layer="top" class="font-bold italic text-lg">
          Archive
        </h2>
      </div>
    </div>
    <ul data-dom="list">
      <!--  -->
      {
        items.map((item, index) => {
          const { name, type, category, year, avail } = item.frontmatter;
          return (
            <li class=" flex flex-col content-center mb-2 pb-2 cursor-pointer">
              <div class="flex justify-center">
                <h2
                  tabindex={index}
                  data-a="alpha"
                  class="font-gs md:text-[5vw] text-[10vw] leading-[.9em] text-center max-w-[80vw]"
                >
                  <span> {name}</span>
                  <span class="hidden md:inline font-ak text-xl">{year}</span>
                </h2>
              </div>
              <div data-a="alpha" class="flex justify-center mt-4 mb-8">
                <div class="flex w-[50vw] justify-between">
                  <p class="hidden md:block">{avail}</p>
                  <a
                    data-a="trig"
                    tabindex={index}
                    href={item.url}
                    title={name}
                  >
                    PROJECT DETAILS
                  </a>
                  <h3 class="hidden md:block">{type}</h3>
                  <p>{category}</p>
                </div>
              </div>
            </li>
          );
        })
      }
    </ul>
  </div>
</Section>
